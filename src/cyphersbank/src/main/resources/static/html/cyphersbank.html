<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Cyphers Bank</title>
  <link rel="stylesheet" href="../style/cyphersbank.css">
</head>
<body>
  <div class="app">
    <div class="brand">
      <div class="logo">C</div>
      <div>
        <div class="bank-name">Cyphers Bank</div>
      </div>
    </div>

    <div class="layout">
      <aside class="panel sidebar">
        <div class="profile">
          <div class="avatar">P</div>
          <div>
            <div id="userName">Phuti Gift</div>
            <div class="muted" id="userAcc">Acct â€¢ 1234 5678</div>
          </div>
        </div>

        <div class="menu">
          <button class="active" data-view="dashboard">Dashboard</button>
          <button data-view="send">Send Money</button>
          <button data-view="history">Transactions</button>
          <button data-view="settings">Settings</button>
        </div>
      </aside>

      <main class="panel">
        <div id="viewContainer">
          <!-- Dashboard -->
          <section data-view-name="dashboard">
            <div class="header-row">
              <div>
                <div class="muted">Available balance</div>
                <div class="card-balance">
                  <div class="balance-amount" id="balance">R 12,500.00</div>
                  <div class="muted">Updated just now</div>
                </div>
              </div>
              <div style="display:flex;flex-direction:column;gap:8px;align-items:flex-end">
                <button class="btn primary" id="quickSend">Send Money</button>
                <button class="btn ghost" id="topUp">Top Up</button>
              </div>
            </div>

            <div style="margin-top:18px">
              <h3>Recent transactions</h3>
              <div id="txList" class="tx-list"></div>
            </div>
          </section>

          <!-- Send Money -->
          <section class="hidden" data-view-name="send">
            <h3>Send Money</h3>
            <form id="sendForm">
              <div>
                <label class="muted">Recipient Name</label>
                <input id="recipient" required placeholder="e.g. Nomusa M" />
              </div>
              <div>
                <label class="muted">Account Number</label>
                <input id="accNumber" required placeholder="1234 5678 9012" />
              </div>
              <div class="row">
                <div style="flex:1">
                  <label class="muted">Amount (ZAR)</label>
                  <input id="amount" type="number" min="1" step="0.01" required placeholder="500" />
                </div>
                <div style="width:180px">
                  <label class="muted">Type</label>
                  <select id="type"><option>Instant</option><option>Standard</option></select>
                </div>
              </div>

              <div style="display:flex;gap:8px">
                <button class="btn primary" type="submit">Continue</button>
                <button class="btn" type="button" id="resetForm">Reset</button>
              </div>
            </form>
          </section>

          <!-- History -->
          <section class="hidden" data-view-name="history">
            <h3>Transaction History</h3>
            <div id="historyList" class="tx-list"></div>
          </section>

          <!-- Settings -->
          <section class="hidden" data-view-name="settings">
            <h3>Settings & Security</h3>
            <div style="display:grid;gap:12px;max-width:420px">
              <div>
                <label class="muted">Change 4-digit PIN</label>
                <div style="display:flex;gap:8px;margin-top:8px">
                  <input id="newPin" placeholder="New PIN" maxlength="4" />
                  <input id="confirmPin" placeholder="Confirm PIN" maxlength="4" />
                  <button class="btn primary" id="changePinBtn">Save</button>
                </div>
                <div class="muted" style="margin-top:6px">Your PIN is required for sending money.</div>
              </div>

              <div>
                <label class="muted">Reset demo data</label>
                <div style="margin-top:8px">
                  <button class="btn ghost" id="resetDemo">Reset Demo (localStorage)</button>
                </div>
              </div>
            </div>
          </section>
        </div>

        <footer>
          Cyphers Bank
        </footer>
      </main>
    </div>
  </div>

  <!-- PIN Modal -->
  <div class="modal-backdrop" id="pinModal">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="pinTitle">
      <h3 id="pinTitle">Confirm transaction</h3>
      <div class="muted">Enter your 4-digit PIN to complete this payment</div>
      <div style="height:12px"></div>
      <div class="pin-input">
        <input maxlength="1" pattern="[0-9]" inputmode="numeric" class="pinCell" />
        <input maxlength="1" pattern="[0-9]" inputmode="numeric" class="pinCell" />
        <input maxlength="1" pattern="[0-9]" inputmode="numeric" class="pinCell" />
        <input maxlength="1" pattern="[0-9]" inputmode="numeric" class="pinCell" />
      </div>
      <div style="height:12px"></div>
      <div style="display:flex;gap:8px;justify-content:flex-end">
        <button class="btn" id="cancelPin">Cancel</button>
        <button class="btn primary" id="confirmPin">Confirm</button>
      </div>
      <div id="pinError" class="muted" style="margin-top:8px;color:#ff7b7b;display:none"></div>
    </div>
  </div>

  <script src="..js/cyphersbank.js"></script>
</body>
</html>
